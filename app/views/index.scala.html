@(timeline: Timeline)
@main() {
    <ul id="timeline">
        @for(score <- timeline.scores) {
            <li>
                <a class="game" href="@routes.GameController.indexWithName(score.game, score.game.getEscapedTitle)"><img class="cover" src="@score.game.cover" /></a>
                <div class="item">
                    <div>
                        <a class="game" href="@routes.GameController.indexWithName(score.game, score.game.getEscapedTitle)">@score.game.title</a> <a class="author" href="@routes.PlayerController.index(score.player)">@score.player.name</a>
                        <small class="date">@score.formattedDate</small>
                    </div>
                    @if(score.rank > 0) {
                        <p class="rank">@score.formattedRank</p>
                    }
                    <p class="score">
                        <a href="@routes.ScoreController.read(score)">@score.formattedValue</a>
                    </p>
                    <p class="stage">
                        Stage @score.stage
                        @if(score.comment != null) {
                            <span class="comment">@score.comment</span>
                        }
                    </p>
                    <div style="float:left;">
                        @if(score.photo) {
                            <a href="@score.photo" target="_blank" class="label label-primary" style="margin-right: 5px;">
                                <span id="photo_@score.id"
                                      data-html="true"
                                      data-container="body"
                                      data-trigger="hover"
                                      data-toggle="popover"
                                      data-placement="left" data-content="<img width='250px' src='@score.photo'/>"
                                      data-original-title="" title="" class="glyphicon glyphicon-camera"></span>
                                <script>
                                    $('#photo_@score.id').popover('hide');
                                </script>
                            </a>
                        }
                        @if(score.replay) {
                            <a href="@score.replay" target="_blank" class="label label-primary" style="margin-right: 5px;">
                                <span class="glyphicon glyphicon-film"></span>
                            </a>
                        }
                        @if(score.platform != null) {
                            <span class="label label-success">@score.platform.name</span>
                        }
                        @if(score.mode != null) {
                            <span class="label label-default">@score.mode.name</span>
                        }
                        @if(score.difficulty != null) {
                            <span class="label label-warning">@score.difficulty.name</span>
                        }
                    </div>
                </div>
            </li>
        }
    </ul>
}
